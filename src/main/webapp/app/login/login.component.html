<div class="login-container">
  <div class="row g-0 min-vh-100">
    <!-- Section gauche - Illustration/Branding -->
    <div class="col-lg-6 d-none d-lg-flex login-banner">
      <div class="banner-content">
        <div class="logo-section">
          <h1 class="brand-title">Senemploi</h1>
          <p class="brand-subtitle">Votre partenaire emploi au quotidien</p>
        </div>
        <div class="illustration">
          <div class="stats-card">
            <div class="stat-item">
              <h3>1000+</h3>
              <p>Offres d'emploi</p>
            </div>
            <div class="stat-item">
              <h3>500+</h3>
              <p>Entreprises</p>
            </div>
            <div class="stat-item">
              <h3>5000+</h3>
              <p>Candidats actifs</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Section droite - Formulaire de connexion -->
    <div class="col-lg-6 d-flex align-items-center justify-content-center">
      <div class="login-form-container">
        <div class="login-header text-center mb-4">
          <h2 class="login-title" data-cy="loginTitle">Bienvenue !</h2>
          <p class="login-subtitle">Connectez-vous pour accéder à votre espace</p>
        </div>

        @if (authenticationError()) {
          <div class="alert alert-danger alert-modern" data-cy="loginError">
            <i class="fas fa-exclamation-circle me-2"></i>
            <strong>Erreur d'authentification !</strong> Veuillez vérifier vos identifiants de connexion.
          </div>
        }

        <form class="login-form" (ngSubmit)="login()" [formGroup]="loginForm">
          <div class="form-group mb-4">
            <label class="form-label" for="username">
              <i class="fas fa-user me-2"></i>Nom d'utilisateur
            </label>
            <input
              type="text"
              class="form-control modern-input"
              name="username"
              id="username"
              #username
              placeholder="Entrez votre nom d'utilisateur"
              formControlName="username"
              data-cy="username"
              required
            />
          </div>

          <div class="form-group mb-4">
            <label class="form-label" for="password">
              <i class="fas fa-lock me-2"></i>Mot de passe
            </label>
            <input
              type="password"
              class="form-control modern-input"
              name="password"
              id="password"
              placeholder="Entrez votre mot de passe"
              formControlName="password"
              data-cy="password"
              required
            />
          </div>

          <div class="d-flex justify-content-between align-items-center mb-4">
            <div class="form-check">
              <input 
                class="form-check-input" 
                type="checkbox" 
                name="rememberMe" 
                id="rememberMe" 
                formControlName="rememberMe"
              />
              <label class="form-check-label" for="rememberMe">
                Se souvenir de moi
              </label>
            </div>
            <a class="forgot-password-link" routerLink="/account/reset/request" data-cy="forgetYourPasswordSelector">
              Mot de passe oublié ?
            </a>
          </div>

          <button 
            type="submit" 
            class="btn btn-primary btn-modern w-100 mb-3" 
            data-cy="submit"
            [disabled]="loginForm.invalid"
          >
            <i class="fas fa-sign-in-alt me-2"></i>Se connecter
          </button>
        </form>

        <div class="divider my-4">
          <span>OU</span>
        </div>

        <div class="register-section text-center">
          <p class="register-text">Vous n'avez pas encore de compte ?</p>
          <div class="register-buttons">
            <a class="btn btn-outline-primary btn-register me-2" [routerLink]="['/account/register']" [queryParams]="{ type: 'candidat' }">
              <i class="fas fa-user-tie me-2"></i>Je cherche un emploi
            </a>
            <a class="btn btn-outline-secondary btn-register" [routerLink]="['/account/register']" [queryParams]="{ type: 'recruteur' }">
              <i class="fas fa-building me-2"></i>Je recrute
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
